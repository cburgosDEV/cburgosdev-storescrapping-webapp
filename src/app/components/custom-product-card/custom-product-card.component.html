<div class="card mb-3">
  <div class="row g-0">
    <div class="col-md-4">
      <img class="img-fluid card-img-top" [src]="product.imgSrc" [alt]="product.name" style="height: 350px; object-fit: scale-down;"/>
    </div>
    <div class="col-md-8">
      <div class="card-header">
        <strong class="text-primary-app">{{product.name}}</strong>
      </div>
      <div class="card-body" [ngClass]="product.discountRate > 0 ? 'card-success-app' : product.discountRate < 0 ? 'card-danger-app' : ''">
        <div class="row">
          <div class="col-md-12">
            <h5 class="card-title">{{product.name}}</h5>               
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <p>
              <span class="badge bg-secondary me-2">{{product.brand}}</span>  
              <span class="badge bg-primary me-2">{{product.store}}</span>
            </p>
            <p>
              <span class="badge" [ngClass]="product.discountRate > 0 ? 'bg-success' : product.discountRate < 0 ? 'bg-danger' : 'bg-dark'"> 
                {{product.discountRate < 0 ? "+" + (product.discountRate * -1) : product.discountRate > 0 ? '-' + product.discountRate : product.discountRate}}%
              </span>
            </p> 
            <p *ngIf="product.isHistoricalPrice">
              <span class="badge bg-danger"> M&iacute;nimo Hist&oacute;rico!!</span>
            </p>  
          </div>                                
        </div>
        <div class="row">
          <div class="col-md-12">
            <p>
              Precio actual: 
              <span class="text-primary-app">
                S/ {{product.lastPrice}}
            </span>                      
            </p>         
            <p>
              M&iacute;nimo Hist&oacute;rico: <span class="text-primary-app">S/ {{product.historicalMinPrice}}</span>
            </p>                              
          </div>
        </div>
        <hr> 
        <div class="row">
          <div class="col-md-12">
            <div *ngIf="isChartLoading" class="row">
              <div class="col-md-12 d-flex justify-content-center">
                <div class="spinner-border text-secondary" role="status">
                  <span class="visually-hidden ">Loading...</span>
                </div>
              </div>
            </div>
            <button *ngIf="!isChartLoading" class="btn btn-outline-dark mb-1" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapseChart'+product.id" aria-expanded="false" [attr.aria-controls]="'#collapseChart'+product.id">
              Mostrar Historial de Hoy
            </button>         
            <div class="collapse" [id]="'collapseChart'+product.id">
              <div class="card card-body">
                <canvas [id]="'Chart'+product.id" >{{ product.chart }}</canvas>
              </div>
            </div>               
          </div>
        </div>         
      </div>
      <div class="card-footer">
        <div class="row">
          <div class="col-md-12">
            <a [routerLink]="['/detail', product.id]" class="btn btn-outline-dark w-100">Ver Detalle</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>